import{c as G,a as m,h as w,b as Me,r as T,i as Et,o as Pe,e as we,n as ot,f as ie,g as re,l as at,j as Pt,k as Oe,m as rt,w as j,p as vl,q as Mt,s as ml,u as st,t as Ht,v as $t,x as Dt,y as Qt,z as gl,A as Kt,B as hl,C as Sl,Q as je,D as bl,R as yl,E as de,F as wl,G as pl,H as Nt,I as Cl,J as Vl,K as xl,L as kl,M as ql,N as zl,O as _l,P as xt,S as Ol,T as Tl,U as Al,V as jt,W as Bl,X as Fl,Y as Il,Z as Rl,_ as Ll,$ as El,a0 as Pl,a1 as Ml,a2 as Hl,a3 as $l,a4 as kt,a5 as Re,a6 as Dl,a7 as Ql,a8 as Ze,a9 as Kl,aa as _e,ab as Nl,ac as jl,ad as Wt,ae as Ut,af as Wl,ag as Ul,ah as et,ai as Ne,aj as Xl,ak as Yl,al as Gl,am as Jl,an as Zl,ao as Z,ap as N,aq as en,ar as ye,as as tn,at as tt,au as ln,av as lt,aw as Le,ax as nn,ay as un,az as an,aA as on,aB as qt}from"./index-GjPtNqzj.js";import{Q as rn,a as sn}from"./QItemSection-D4V9iJAF.js";import{u as cn,v as zt,a as dn,b as fn,c as vn,p as _t,d as mn,r as Ot,s as gn,n as Tt,e as hn,f as Sn,g as bn}from"./language-BxT8Oii7.js";import{C as At}from"./ClosePopup-CCVxG7oI.js";import{u as yn}from"./vue-i18n-FLqu0tMY.js";const wn=G({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:o}){const n=m(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>w("div",{class:n.value},Me(o.default))}}),pn=G({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:o}){const n=m(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>w("div",{class:n.value,role:"toolbar"},Me(o.default))}});function Cn(){const e=T(!Et.value);return e.value===!1&&Pe(()=>{e.value=!0}),{isHydrated:e}}const Xt=typeof ResizeObserver<"u",Bt=Xt===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},it=G({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:o}){let n=null,a,s={width:-1,height:-1};function u(d){d===!0||e.debounce===0||e.debounce==="0"?p():n===null&&(n=setTimeout(p,e.debounce))}function p(){if(n!==null&&(clearTimeout(n),n=null),a){const{offsetWidth:d,offsetHeight:y}=a;(d!==s.width||y!==s.height)&&(s={width:d,height:y},o("resize",s))}}const{proxy:b}=re();if(b.trigger=u,Xt===!0){let d;const y=c=>{a=b.$el.parentNode,a?(d=new ResizeObserver(u),d.observe(a),p()):c!==!0&&ie(()=>{y(!0)})};return Pe(()=>{y()}),we(()=>{n!==null&&clearTimeout(n),d!==void 0&&(d.disconnect!==void 0?d.disconnect():a&&d.unobserve(a))}),ot}else{let d=function(){n!==null&&(clearTimeout(n),n=null),g!==void 0&&(g.removeEventListener!==void 0&&g.removeEventListener("resize",u,at.passive),g=void 0)},y=function(){d(),a&&a.contentDocument&&(g=a.contentDocument.defaultView,g.addEventListener("resize",u,at.passive),p())};const{isHydrated:c}=Cn();let g;return Pe(()=>{ie(()=>{a=b.$el,a&&y()})}),we(d),()=>{if(c.value===!0)return w("object",{class:"q--avoid-card-border",style:Bt.style,tabindex:-1,type:"text/html",data:Bt.url,"aria-hidden":"true",onLoad:y})}}}}),Vn=G({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:n}){const{proxy:{$q:a}}=re(),s=Pt(rt,Oe);if(s===Oe)return console.error("QHeader needs to be child of QLayout"),Oe;const u=T(parseInt(e.heightHint,10)),p=T(!0),b=m(()=>e.reveal===!0||s.view.value.indexOf("H")!==-1||a.platform.is.ios&&s.isContainer.value===!0),d=m(()=>{if(e.modelValue!==!0)return 0;if(b.value===!0)return p.value===!0?u.value:0;const V=u.value-s.scroll.value.position;return V>0?V:0}),y=m(()=>e.modelValue!==!0||b.value===!0&&p.value!==!0),c=m(()=>e.modelValue===!0&&y.value===!0&&e.reveal===!0),g=m(()=>"q-header q-layout__section--marginal "+(b.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(y.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=m(()=>{const V=s.rows.value.top,B={};return V[0]==="l"&&s.left.space===!0&&(B[a.lang.rtl===!0?"right":"left"]=`${s.left.size}px`),V[2]==="r"&&s.right.space===!0&&(B[a.lang.rtl===!0?"left":"right"]=`${s.right.size}px`),B});function h(V,B){s.update("header",V,B)}function z(V,B){V.value!==B&&(V.value=B)}function L({height:V}){z(u,V),h("size",V)}function x(V){c.value===!0&&z(p,!0),n("focusin",V)}j(()=>e.modelValue,V=>{h("space",V),z(p,!0),s.animate()}),j(d,V=>{h("offset",V)}),j(()=>e.reveal,V=>{V===!1&&z(p,e.modelValue)}),j(p,V=>{s.animate(),n("reveal",V)}),j(s.scroll,V=>{e.reveal===!0&&z(p,V.direction==="up"||V.position<=e.revealOffset||V.position-V.inflectionPoint<100)});const P={};return s.instances.header=P,e.modelValue===!0&&h("size",u.value),h("space",e.modelValue),h("offset",d.value),we(()=>{s.instances.header===P&&(s.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const V=vl(o.default,[]);return e.elevated===!0&&V.push(w("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),V.push(w(it,{debounce:0,onResize:L})),w("header",{class:g.value,style:S.value,onFocusin:x},V)}}}),xn=G({name:"QPageContainer",setup(e,{slots:o}){const{proxy:{$q:n}}=re(),a=Pt(rt,Oe);if(a===Oe)return console.error("QPageContainer needs to be child of QLayout"),Oe;Mt(ml,!0);const s=m(()=>{const u={};return a.header.space===!0&&(u.paddingTop=`${a.header.size}px`),a.right.space===!0&&(u[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(u.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(u[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),u});return()=>w("div",{class:"q-page-container",style:s.value},Me(o.default))}}),kn=G({name:"QField",inheritAttrs:!1,props:{...st,tag:{type:String,default:"label"}},emits:Ht,setup(){return $t(Dt({tagProp:!0}))}}),qn={xs:8,sm:10,md:14,lg:20,xl:24},zn=G({name:"QChip",props:{...Qt,...gl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:n}){const{proxy:{$q:a}}=re(),s=Kt(e,a),u=hl(e,qn),p=m(()=>e.selected===!0||e.icon!==void 0),b=m(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),d=m(()=>e.iconRemove||a.iconSet.chip.remove),y=m(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=m(()=>{const x=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(x?` text-${x} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(y.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),g=m(()=>{const x=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},P={...x,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:x,remove:P}});function S(x){x.keyCode===13&&h(x)}function h(x){e.disable||(n("update:selected",!e.selected),n("click",x))}function z(x){(x.keyCode===void 0||x.keyCode===13)&&(de(x),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function L(){const x=[];y.value===!0&&x.push(w("div",{class:"q-focus-helper"})),p.value===!0&&x.push(w(je,{class:"q-chip__icon q-chip__icon--left",name:b.value}));const P=e.label!==void 0?[w("div",{class:"ellipsis"},[e.label])]:void 0;return x.push(w("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},bl(o.default,P))),e.iconRight&&x.push(w(je,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&x.push(w(je,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:d.value,...g.value.remove,onClick:z,onKeyup:z})),x}return()=>{if(e.modelValue===!1)return;const x={class:c.value,style:u.value};return y.value===!0&&Object.assign(x,g.value.chip,{onClick:h,onKeyup:S}),Sl("div",x,L(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[yl,e.ripple]])}}}),_n=G({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:o}){const n=m(()=>parseInt(e.lines,10)),a=m(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),s=m(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>w("div",{style:s.value,class:a.value},Me(o.default))}}),On=G({name:"QMenu",inheritAttrs:!1,props:{...cn,...wl,...Qt,...pl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:zt},self:{type:String,validator:zt},offset:{type:Array,validator:dn},scrollTarget:Nt,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Cl,"click","escapeKey"],setup(e,{slots:o,emit:n,attrs:a}){let s=null,u,p,b;const d=re(),{proxy:y}=d,{$q:c}=y,g=T(null),S=T(!1),h=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),z=Kt(e,c),{registerTick:L,removeTick:x}=Vl(),{registerTimeout:P}=xl(),{transitionProps:V,transitionStyle:B}=kl(e),{localScrollTarget:C,changeScrollEvent:D,unconfigureScrollTarget:A}=fn(e,q),{anchorEl:E,canShow:U}=vn({showing:S}),{hide:J}=ql({showing:S,canShow:U,handleShow:me,handleHide:l,hideOnRouteChange:h,processOnMount:!0}),{showPortal:te,hidePortal:fe,renderPortal:W}=zl(d,g,H,"menu"),oe={anchorEl:E,innerRef:g,onClickOutside(i){if(e.persistent!==!0&&S.value===!0)return J(i),(i.type==="touchstart"||i.target.classList.contains("q-dialog__backdrop"))&&de(i),!0}},ve=m(()=>_t(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),se=m(()=>e.cover===!0?ve.value:_t(e.self||"top start",c.lang.rtl)),Y=m(()=>(e.square===!0?" q-menu--square":"")+(z.value===!0?" q-menu--dark q-dark":"")),Ae=m(()=>e.autoClose===!0?{onClick:F}:{}),ce=m(()=>S.value===!0&&e.persistent!==!0);j(ce,i=>{i===!0?(_l(O),mn(oe)):(xt(O),Ot(oe))});function le(){Rl(()=>{let i=g.value;i&&i.contains(document.activeElement)!==!0&&(i=i.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.querySelector("[autofocus], [data-autofocus]")||i,i.focus({preventScroll:!0}))})}function me(i){if(s=e.noRefocus===!1?document.activeElement:null,Ol(M),te(),q(),u=void 0,i!==void 0&&(e.touchPosition||e.contextMenu)){const Q=Tl(i);if(Q.left!==void 0){const{top:ne,left:pe}=E.value.getBoundingClientRect();u={left:Q.left-pe,top:Q.top-ne}}}p===void 0&&(p=j(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,k)),e.noFocus!==!0&&document.activeElement.blur(),L(()=>{k(),e.noFocus!==!0&&le()}),P(()=>{c.platform.is.ios===!0&&(b=e.autoClose,g.value.click()),k(),te(!0),n("show",i)},e.transitionDuration)}function l(i){x(),fe(),r(!0),s!==null&&(i===void 0||i.qClickOutside!==!0)&&(((i&&i.type.indexOf("key")===0?s.closest('[tabindex]:not([tabindex^="-"])'):void 0)||s).focus(),s=null),P(()=>{fe(!0),n("hide",i)},e.transitionDuration)}function r(i){u=void 0,p!==void 0&&(p(),p=void 0),(i===!0||S.value===!0)&&(Al(M),A(),Ot(oe),xt(O)),i!==!0&&(s=null)}function q(){(E.value!==null||e.scrollTarget!==void 0)&&(C.value=jt(E.value,e.scrollTarget),D(C.value,k))}function F(i){b!==!0?(Bl(y,i),n("click",i)):b=!1}function M(i){ce.value===!0&&e.noFocus!==!0&&Fl(g.value,i.target)!==!0&&le()}function O(i){n("escapeKey"),J(i)}function k(){gn({targetEl:g.value,offset:e.offset,anchorEl:E.value,anchorOrigin:ve.value,selfOrigin:se.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function H(){return w(Il,V.value,()=>S.value===!0?w("div",{role:"menu",...a,ref:g,tabindex:-1,class:["q-menu q-position-engine scroll"+Y.value,a.class],style:[a.style,B.value],...Ae.value},Me(o.default)):null)}return we(r),Object.assign(y,{focus:le,updatePosition:k}),W}});let We=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const o=document.createElement("div");Object.assign(o.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(o),e.scrollLeft=-1e3,We=e.scrollLeft>=0,e.remove()}const ee=1e3,Tn=["start","center","end","start-force","center-force","end-force"],Yt=Array.prototype.filter,An=window.getComputedStyle(document.body).overflowAnchor===void 0?ot:function(e,o){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Yt.call(n,s=>s.dataset&&s.dataset.qVsAnchor!==void 0).forEach(s=>{delete s.dataset.qVsAnchor});const a=n[o];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function Te(e,o){return e+o}function nt(e,o,n,a,s,u,p,b){const d=e===window?document.scrollingElement||document.documentElement:e,y=s===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-p-b,scrollMaxSize:0,offsetStart:-p,offsetEnd:-b};if(s===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=d.scrollLeft,c.scrollViewSize+=d.clientWidth),c.scrollMaxSize=d.scrollWidth,u===!0&&(c.scrollStart=(We===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=d.scrollTop,c.scrollViewSize+=d.clientHeight),c.scrollMaxSize=d.scrollHeight),n!==null)for(let g=n.previousElementSibling;g!==null;g=g.previousElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=g[y]);if(a!==null)for(let g=a.nextElementSibling;g!==null;g=g.nextElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=g[y]);if(o!==e){const g=d.getBoundingClientRect(),S=o.getBoundingClientRect();s===!0?(c.offsetStart+=S.left-g.left,c.offsetEnd-=S.width):(c.offsetStart+=S.top-g.top,c.offsetEnd-=S.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function Ft(e,o,n,a){o==="end"&&(o=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(a===!0&&(o=(We===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):n===!0?(a===!0&&(o=(We===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function Ee(e,o,n,a){if(n>=a)return 0;const s=o.length,u=Math.floor(n/ee),p=Math.floor((a-1)/ee)+1;let b=e.slice(u,p).reduce(Te,0);return n%ee!==0&&(b-=o.slice(u*ee,n).reduce(Te,0)),a%ee!==0&&a!==s&&(b-=o.slice(a,p*ee).reduce(Te,0)),b}const Bn={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},It={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Bn};function Fn({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:n,virtualScrollItemSizeComputed:a}){const s=re(),{props:u,emit:p,proxy:b}=s,{$q:d}=b;let y,c,g,S=[],h;const z=T(0),L=T(0),x=T({}),P=T(null),V=T(null),B=T(null),C=T({from:0,to:0}),D=m(()=>u.tableColspan!==void 0?u.tableColspan:100);a===void 0&&(a=m(()=>u.virtualScrollItemSize));const A=m(()=>a.value+";"+u.virtualScrollHorizontal),E=m(()=>A.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);j(E,()=>{Y()}),j(A,U);function U(){se(c,!0)}function J(l){se(l===void 0?c:l)}function te(l,r){const q=o();if(q==null||q.nodeType===8)return;const F=nt(q,n(),P.value,V.value,u.virtualScrollHorizontal,d.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);g!==F.scrollViewSize&&Y(F.scrollViewSize),W(q,F,Math.min(e.value-1,Math.max(0,parseInt(l,10)||0)),0,Tn.indexOf(r)!==-1?r:c!==-1&&l>c?"end":"start")}function fe(){const l=o();if(l==null||l.nodeType===8)return;const r=nt(l,n(),P.value,V.value,u.virtualScrollHorizontal,d.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),q=e.value-1,F=r.scrollMaxSize-r.offsetStart-r.offsetEnd-L.value;if(y===r.scrollStart)return;if(r.scrollMaxSize<=0){W(l,r,0,0);return}g!==r.scrollViewSize&&Y(r.scrollViewSize),oe(C.value.from);const M=Math.floor(r.scrollMaxSize-Math.max(r.scrollViewSize,r.offsetEnd)-Math.min(h[q],r.scrollViewSize/2));if(M>0&&Math.ceil(r.scrollStart)>=M){W(l,r,q,r.scrollMaxSize-r.offsetEnd-S.reduce(Te,0));return}let O=0,k=r.scrollStart-r.offsetStart,H=k;if(k<=F&&k+r.scrollViewSize>=z.value)k-=z.value,O=C.value.from,H=k;else for(let i=0;k>=S[i]&&O<q;i++)k-=S[i],O+=ee;for(;k>0&&O<q;)k-=h[O],k>-r.scrollViewSize?(O++,H=k):H=h[O]+k;W(l,r,O,H)}function W(l,r,q,F,M){const O=typeof M=="string"&&M.indexOf("-force")!==-1,k=O===!0?M.replace("-force",""):M,H=k!==void 0?k:"start";let i=Math.max(0,q-x.value[H]),Q=i+x.value.total;Q>e.value&&(Q=e.value,i=Math.max(0,Q-x.value.total)),y=r.scrollStart;const ne=i!==C.value.from||Q!==C.value.to;if(ne===!1&&k===void 0){ce(q);return}const{activeElement:pe}=document,ue=B.value;ne===!0&&ue!==null&&ue!==pe&&ue.contains(pe)===!0&&(ue.addEventListener("focusout",ve),setTimeout(()=>{ue!==null&&ue.removeEventListener("focusout",ve)})),An(ue,q-i);const He=k!==void 0?h.slice(i,q).reduce(Te,0):0;if(ne===!0){const ge=Q>=C.value.from&&i<=C.value.to?C.value.to:Q;C.value={from:i,to:ge},z.value=Ee(S,h,0,i),L.value=Ee(S,h,Q,e.value),requestAnimationFrame(()=>{C.value.to!==Q&&y===r.scrollStart&&(C.value={from:C.value.from,to:Q},L.value=Ee(S,h,Q,e.value))})}requestAnimationFrame(()=>{if(y!==r.scrollStart)return;ne===!0&&oe(i);const ge=h.slice(i,q).reduce(Te,0),he=ge+r.offsetStart+z.value,$e=he+h[q];let Be=he+F;if(k!==void 0){const Ue=ge-He,Fe=r.scrollStart+Ue;Be=O!==!0&&Fe<he&&$e<Fe+r.scrollViewSize?Fe:k==="end"?$e-r.scrollViewSize:he-(k==="start"?0:Math.round((r.scrollViewSize-h[q])/2))}y=Be,Ft(l,Be,u.virtualScrollHorizontal,d.lang.rtl),ce(q)})}function oe(l){const r=B.value;if(r){const q=Yt.call(r.children,i=>i.classList&&i.classList.contains("q-virtual-scroll--skip")===!1),F=q.length,M=u.virtualScrollHorizontal===!0?i=>i.getBoundingClientRect().width:i=>i.offsetHeight;let O=l,k,H;for(let i=0;i<F;){for(k=M(q[i]),i++;i<F&&q[i].classList.contains("q-virtual-scroll--with-prev")===!0;)k+=M(q[i]),i++;H=k-h[O],H!==0&&(h[O]+=H,S[Math.floor(O/ee)]+=H),O++}}}function ve(){B.value!==null&&B.value!==void 0&&B.value.focus()}function se(l,r){const q=1*a.value;(r===!0||Array.isArray(h)===!1)&&(h=[]);const F=h.length;h.length=e.value;for(let O=e.value-1;O>=F;O--)h[O]=q;const M=Math.floor((e.value-1)/ee);S=[];for(let O=0;O<=M;O++){let k=0;const H=Math.min((O+1)*ee,e.value);for(let i=O*ee;i<H;i++)k+=h[i];S.push(k)}c=-1,y=void 0,z.value=Ee(S,h,0,C.value.from),L.value=Ee(S,h,C.value.to,e.value),l>=0?(oe(C.value.from),ie(()=>{te(l)})):le()}function Y(l){if(l===void 0&&typeof window<"u"){const k=o();k!=null&&k.nodeType!==8&&(l=nt(k,n(),P.value,V.value,u.virtualScrollHorizontal,d.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}g=l;const r=parseFloat(u.virtualScrollSliceRatioBefore)||0,q=parseFloat(u.virtualScrollSliceRatioAfter)||0,F=1+r+q,M=l===void 0||l<=0?1:Math.ceil(l/a.value),O=Math.max(1,M,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/F));x.value={total:Math.ceil(O*F),start:Math.ceil(O*r),center:Math.ceil(O*(.5+r)),end:Math.ceil(O*(1+r)),view:M}}function Ae(l,r){const q=u.virtualScrollHorizontal===!0?"width":"height",F={["--q-virtual-scroll-item-"+q]:a.value+"px"};return[l==="tbody"?w(l,{class:"q-virtual-scroll__padding",key:"before",ref:P},[w("tr",[w("td",{style:{[q]:`${z.value}px`,...F},colspan:D.value})])]):w(l,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[q]:`${z.value}px`,...F}}),w(l,{class:"q-virtual-scroll__content",key:"content",ref:B,tabindex:-1},r.flat()),l==="tbody"?w(l,{class:"q-virtual-scroll__padding",key:"after",ref:V},[w("tr",[w("td",{style:{[q]:`${L.value}px`,...F},colspan:D.value})])]):w(l,{class:"q-virtual-scroll__padding",key:"after",ref:V,style:{[q]:`${L.value}px`,...F}})]}function ce(l){c!==l&&(u.onVirtualScroll!==void 0&&p("virtualScroll",{index:l,from:C.value.from,to:C.value.to-1,direction:l<c?"decrease":"increase",ref:b}),c=l)}Y();const le=Ll(fe,d.platform.is.ios===!0?120:35);El(()=>{Y()});let me=!1;return Pl(()=>{me=!0}),Ml(()=>{if(me!==!0)return;const l=o();y!==void 0&&l!==void 0&&l!==null&&l.nodeType!==8?Ft(l,y,u.virtualScrollHorizontal,d.lang.rtl):te(c)}),we(()=>{le.cancel()}),Object.assign(b,{scrollTo:te,reset:U,refresh:J}),{virtualScrollSliceRange:C,virtualScrollSliceSizeComputed:x,setVirtualScrollSize:Y,onVirtualScrollEvt:le,localResetVirtualScroll:se,padVirtualScroll:Ae,scrollTo:te,reset:U,refresh:J}}const Rt=e=>["add","add-unique","toggle"].includes(e),In=".*+?^${}()|[]\\",Rn=Object.keys(st);function ut(e,o){if(typeof e=="function")return e;const n=e!==void 0?e:o;return a=>a!==null&&typeof a=="object"&&n in a?a[n]:a}const Ln=G({name:"QSelect",inheritAttrs:!1,props:{...It,...Hl,...st,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Rt},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:It.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Ht,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:o,emit:n}){const{proxy:a}=re(),{$q:s}=a,u=T(!1),p=T(!1),b=T(-1),d=T(""),y=T(!1),c=T(!1);let g=null,S=null,h,z,L,x=null,P,V,B,C;const D=T(null),A=T(null),E=T(null),U=T(null),J=T(null),te=$l(e),fe=Kl(yt),W=m(()=>Array.isArray(e.options)?e.options.length:0),oe=m(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ve,virtualScrollSliceSizeComputed:se,localResetVirtualScroll:Y,padVirtualScroll:Ae,onVirtualScrollEvt:ce,scrollTo:le,setVirtualScrollSize:me}=Fn({virtualScrollLength:W,getVirtualScrollTarget:el,getVirtualScrollEl:St,virtualScrollItemSizeComputed:oe}),l=Dt(),r=m(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,f=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const v=e.mapOptions===!0&&h!==void 0?h:[],_=f.map(R=>Zt(R,v));return e.modelValue===null&&t===!0?_.filter(R=>R!==null):_}return f}),q=m(()=>{const t={};return Rn.forEach(f=>{const v=e[f];v!==void 0&&(t[f]=v)}),t}),F=m(()=>e.optionsDark===null?l.isDark.value:e.optionsDark),M=m(()=>kt(r.value)),O=m(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||r.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),k=m(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),H=m(()=>W.value===0),i=m(()=>r.value.map(t=>X.value(t)).join(", ")),Q=m(()=>e.displayValue!==void 0?e.displayValue:i.value),ne=m(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),pe=m(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||r.value.some(ne.value))),ue=m(()=>l.focused.value===!0?e.tabindex:-1),He=m(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${l.targetUid.value}_lb`};return b.value>=0&&(t["aria-activedescendant"]=`${l.targetUid.value}_${b.value}`),t}),ge=m(()=>({id:`${l.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),he=m(()=>r.value.map((t,f)=>({index:f,opt:t,html:ne.value(t),selected:!0,removeAtIndex:Jt,toggleOption:Se,tabindex:ue.value}))),$e=m(()=>{if(W.value===0)return[];const{from:t,to:f}=ve.value;return e.options.slice(t,f).map((v,_)=>{const R=Ce.value(v)===!0,I=Ye(v)===!0,K=t+_,$={clickable:!0,active:I,activeClass:Fe.value,manualFocus:!0,focused:!1,disable:R,tabindex:-1,dense:e.optionsDense,dark:F.value,role:"option","aria-selected":I===!0?"true":"false",id:`${l.targetUid.value}_${K}`,onClick:()=>{Se(v)}};return R!==!0&&(b.value===K&&($.focused=!0),s.platform.is.desktop===!0&&($.onMousemove=()=>{u.value===!0&&Ve(K)})),{index:K,opt:v,html:ne.value(v),label:X.value(v),selected:$.active,focused:$.focused,toggleOption:Se,setOptionIndex:Ve,itemProps:$}})}),Be=m(()=>e.dropdownIcon!==void 0?e.dropdownIcon:s.iconSet.arrow.dropdown),Ue=m(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Fe=m(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ae=m(()=>ut(e.optionValue,"value")),X=m(()=>ut(e.optionLabel,"label")),Ce=m(()=>ut(e.optionDisable,"disable")),De=m(()=>r.value.map(ae.value)),Gt=m(()=>{const t={onInput:yt,onChange:fe,onKeydown:ht,onKeyup:mt,onKeypress:gt,onFocus:ft,onClick(f){z===!0&&_e(f)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=fe,t});j(r,t=>{h=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&l.innerLoading.value!==!0&&(p.value!==!0&&u.value!==!0||M.value!==!0)&&(L!==!0&&ze(),(p.value===!0||u.value===!0)&&xe(""))},{immediate:!0}),j(()=>e.fillInput,ze),j(u,Ge),j(W,fl);function ct(t){return e.emitValue===!0?ae.value(t):t}function Xe(t){if(t!==-1&&t<r.value.length)if(e.multiple===!0){const f=e.modelValue.slice();n("remove",{index:t,value:f.splice(t,1)[0]}),n("update:modelValue",f)}else n("update:modelValue",null)}function Jt(t){Xe(t),l.focus()}function dt(t,f){const v=ct(t);if(e.multiple!==!0){e.fillInput===!0&&Ie(X.value(t),!0,!0),n("update:modelValue",v);return}if(r.value.length===0){n("add",{index:0,value:v}),n("update:modelValue",e.multiple===!0?[v]:v);return}if(f===!0&&Ye(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const _=e.modelValue.slice();n("add",{index:_.length,value:v}),_.push(v),n("update:modelValue",_)}function Se(t,f){if(l.editable.value!==!0||t===void 0||Ce.value(t)===!0)return;const v=ae.value(t);if(e.multiple!==!0){f!==!0&&(Ie(e.fillInput===!0?X.value(t):"",!0,!0),be()),A.value!==null&&A.value.focus(),(r.value.length===0||Re(ae.value(r.value[0]),v)!==!0)&&n("update:modelValue",e.emitValue===!0?v:t);return}if((z!==!0||y.value===!0)&&l.focus(),ft(),r.value.length===0){const I=e.emitValue===!0?v:t;n("add",{index:0,value:I}),n("update:modelValue",e.multiple===!0?[I]:I);return}const _=e.modelValue.slice(),R=De.value.findIndex(I=>Re(I,v));if(R!==-1)n("remove",{index:R,value:_.splice(R,1)[0]});else{if(e.maxValues!==void 0&&_.length>=e.maxValues)return;const I=e.emitValue===!0?v:t;n("add",{index:_.length,value:I}),_.push(I)}n("update:modelValue",_)}function Ve(t){if(s.platform.is.desktop!==!0)return;const f=t!==-1&&t<W.value?t:-1;b.value!==f&&(b.value=f)}function Qe(t=1,f){if(u.value===!0){let v=b.value;do v=Tt(v+t,-1,W.value-1);while(v!==-1&&v!==b.value&&Ce.value(e.options[v])===!0);b.value!==v&&(Ve(v),le(v),f!==!0&&e.useInput===!0&&e.fillInput===!0&&Ke(v>=0?X.value(e.options[v]):P,!0))}}function Zt(t,f){const v=_=>Re(ae.value(_),t);return e.options.find(v)||f.find(v)||t}function Ye(t){const f=ae.value(t);return De.value.find(v=>Re(v,f))!==void 0}function ft(t){e.useInput===!0&&A.value!==null&&(t===void 0||A.value===t.target&&t.target.value===i.value)&&A.value.select()}function vt(t){Nl(t,27)===!0&&u.value===!0&&(_e(t),be(),ze()),n("keyup",t)}function mt(t){const{value:f}=t.target;if(t.keyCode!==void 0){vt(t);return}if(t.target.value="",g!==null&&(clearTimeout(g),g=null),S!==null&&(clearTimeout(S),S=null),ze(),typeof f=="string"&&f.length!==0){const v=f.toLocaleLowerCase(),_=I=>{const K=e.options.find($=>String(I.value($)).toLocaleLowerCase()===v);return K===void 0?!1:(r.value.indexOf(K)===-1?Se(K):be(),!0)},R=I=>{_(ae)!==!0&&I!==!0&&_(X)!==!0&&xe(f,!0,()=>R(!0))};R()}else l.clearValue(t)}function gt(t){n("keypress",t)}function ht(t){if(n("keydown",t),jl(t)===!0)return;const f=d.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),v=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(b.value!==-1||f===!0);if(t.keyCode===27){Ze(t);return}if(t.keyCode===9&&v===!1){ke();return}if(t.target===void 0||t.target.id!==l.targetUid.value||l.editable.value!==!0)return;if(t.keyCode===40&&l.innerLoading.value!==!0&&u.value===!1){de(t),qe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&d.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Xe(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof d.value!="string"||d.value.length===0)&&(de(t),b.value=-1,Qe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&se.value!==void 0&&(de(t),b.value=Math.max(-1,Math.min(W.value,b.value+(t.keyCode===33?-1:1)*se.value.view)),Qe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(de(t),Qe(t.keyCode===38?-1:1,e.multiple));const _=W.value;if((B===void 0||C<Date.now())&&(B=""),_>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||B.length!==0)){u.value!==!0&&qe(t);const R=t.key.toLocaleLowerCase(),I=B.length===1&&B[0]===R;C=Date.now()+1500,I===!1&&(de(t),B+=R);const K=new RegExp("^"+B.split("").map(Je=>In.indexOf(Je)!==-1?"\\"+Je:Je).join(".*"),"i");let $=b.value;if(I===!0||$<0||K.test(X.value(e.options[$]))!==!0)do $=Tt($+1,-1,_-1);while($!==b.value&&(Ce.value(e.options[$])===!0||K.test(X.value(e.options[$]))!==!0));b.value!==$&&ie(()=>{Ve($),le($),$>=0&&e.useInput===!0&&e.fillInput===!0&&Ke(X.value(e.options[$]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||B!=="")&&(t.keyCode!==9||v===!1))){if(t.keyCode!==9&&de(t),b.value!==-1&&b.value<_){Se(e.options[b.value]);return}if(f===!0){const R=(I,K)=>{if(K){if(Rt(K)!==!0)return}else K=e.newValueMode;if(Ie("",e.multiple!==!0,!0),I==null)return;(K==="toggle"?Se:dt)(I,K==="add-unique"),e.multiple!==!0&&(A.value!==null&&A.value.focus(),be())};if(e.onNewValue!==void 0?n("newValue",d.value,R):R(d.value),e.multiple!==!0)return}u.value===!0?ke():l.innerLoading.value!==!0&&qe()}}function St(){return z===!0?J.value:E.value!==null&&E.value.contentEl!==null?E.value.contentEl:void 0}function el(){return St()}function tl(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?he.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?he.value.map((t,f)=>w(zn,{key:"option-"+f,removable:l.editable.value===!0&&Ce.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ue.value,onRemove(){t.removeAtIndex(f)}},()=>w("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:X.value(t.opt)}))):[w("span",{[pe.value===!0?"innerHTML":"textContent"]:Q.value})]}function bt(){if(H.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:d.value}):void 0;const t=o.option!==void 0?o.option:v=>w(sn,{key:v.index,...v.itemProps},()=>w(rn,()=>w(_n,()=>w("span",{[v.html===!0?"innerHTML":"textContent"]:v.label}))));let f=Ae("div",$e.value.map(t));return o["before-options"]!==void 0&&(f=o["before-options"]().concat(f)),Ut(o["after-options"],f)}function ll(t,f){const v=f===!0?{...He.value,...l.splitAttrs.attributes.value}:void 0,_={ref:f===!0?A:void 0,key:"i_t",class:O.value,style:e.inputStyle,value:d.value!==void 0?d.value:"",type:"search",...v,id:f===!0?l.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Gt.value};return t!==!0&&z===!0&&(Array.isArray(_.class)===!0?_.class=[..._.class,"no-pointer-events"]:_.class+=" no-pointer-events"),w("input",_)}function yt(t){g!==null&&(clearTimeout(g),g=null),S!==null&&(clearTimeout(S),S=null),!(t&&t.target&&t.target.qComposing===!0)&&(Ke(t.target.value||""),L=!0,P=d.value,l.focused.value!==!0&&(z!==!0||y.value===!0)&&l.focus(),e.onFilter!==void 0&&(g=setTimeout(()=>{g=null,xe(d.value)},e.inputDebounce)))}function Ke(t,f){d.value!==t&&(d.value=t,f===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",t):S=setTimeout(()=>{S=null,n("inputValue",t)},e.inputDebounce))}function Ie(t,f,v){L=v!==!0,e.useInput===!0&&(Ke(t,!0),(f===!0||v!==!0)&&(P=t),f!==!0&&xe(t))}function xe(t,f,v){if(e.onFilter===void 0||f!==!0&&l.focused.value!==!0)return;l.innerLoading.value===!0?n("filterAbort"):(l.innerLoading.value=!0,c.value=!0),t!==""&&e.multiple!==!0&&r.value.length!==0&&L!==!0&&t===X.value(r.value[0])&&(t="");const _=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);x!==null&&clearTimeout(x),x=_,n("filter",t,(R,I)=>{(f===!0||l.focused.value===!0)&&x===_&&(clearTimeout(x),typeof R=="function"&&R(),c.value=!1,ie(()=>{l.innerLoading.value=!1,l.editable.value===!0&&(f===!0?u.value===!0&&be():u.value===!0?Ge(!0):u.value=!0),typeof I=="function"&&ie(()=>{I(a)}),typeof v=="function"&&ie(()=>{v(a)})}))},()=>{l.focused.value===!0&&x===_&&(clearTimeout(x),l.innerLoading.value=!1,c.value=!1),u.value===!0&&(u.value=!1)})}function nl(){return w(On,{ref:E,class:k.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&H.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:F.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Ue.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ge.value,onScrollPassive:ce,onBeforeShow:pt,onBeforeHide:ul,onShow:al},bt)}function ul(t){Ct(t),ke()}function al(){me()}function il(t){_e(t),A.value!==null&&A.value.focus(),y.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ol(t){_e(t),ie(()=>{y.value=!1})}function rl(){const t=[w(kn,{class:`col-auto ${l.fieldClass.value}`,...q.value,for:l.targetUid.value,dark:F.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:d.value.length!==0,...l.splitAttrs.listeners.value,onFocus:il,onBlur:ol},{...o,rawControl:()=>l.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(w("div",{ref:J,class:k.value+" scroll",style:e.popupContentStyle,...ge.value,onClick:Ze,onScrollPassive:ce},bt())),w(Wt,{ref:U,modelValue:p.value,position:e.useInput===!0?"top":void 0,transitionShow:V,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:pt,onBeforeHide:sl,onHide:cl,onShow:dl},()=>w("div",{class:"q-select__dialog"+(F.value===!0?" q-select__dialog--dark q-dark":"")+(y.value===!0?" q-select__dialog--focused":"")},t))}function sl(t){Ct(t),U.value!==null&&U.value.__updateRefocusTarget(l.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),l.focused.value=!1}function cl(t){be(),l.focused.value===!1&&n("blur",t),ze()}function dl(){const t=document.activeElement;(t===null||t.id!==l.targetUid.value)&&A.value!==null&&A.value!==t&&A.value.focus(),me()}function ke(){p.value!==!0&&(b.value=-1,u.value===!0&&(u.value=!1),l.focused.value===!1&&(x!==null&&(clearTimeout(x),x=null),l.innerLoading.value===!0&&(n("filterAbort"),l.innerLoading.value=!1,c.value=!1)))}function qe(t){l.editable.value===!0&&(z===!0?(l.onControlFocusin(t),p.value=!0,ie(()=>{l.focus()})):l.focus(),e.onFilter!==void 0?xe(d.value):(H.value!==!0||o["no-option"]!==void 0)&&(u.value=!0))}function be(){p.value=!1,ke()}function ze(){e.useInput===!0&&Ie(e.multiple!==!0&&e.fillInput===!0&&r.value.length!==0&&X.value(r.value[0])||"",!0,!0)}function Ge(t){let f=-1;if(t===!0){if(r.value.length!==0){const v=ae.value(r.value[0]);f=e.options.findIndex(_=>Re(ae.value(_),v))}Y(f)}Ve(f)}function fl(t,f){u.value===!0&&l.innerLoading.value===!1&&(Y(-1,!0),ie(()=>{u.value===!0&&l.innerLoading.value===!1&&(t>f?Y():Ge(!0))}))}function wt(){p.value===!1&&E.value!==null&&E.value.updatePosition()}function pt(t){t!==void 0&&_e(t),n("popupShow",t),l.hasPopupOpen=!0,l.onControlFocusin(t)}function Ct(t){t!==void 0&&_e(t),n("popupHide",t),l.hasPopupOpen=!1,l.onControlFocusout(t)}function Vt(){z=s.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||H.value===!1:!0),V=s.platform.is.ios===!0&&z===!0&&e.useInput===!0?"fade":e.transitionShow}return Dl(Vt),Ql(wt),Vt(),we(()=>{g!==null&&clearTimeout(g),S!==null&&clearTimeout(S)}),Object.assign(a,{showPopup:qe,hidePopup:be,removeAtIndex:Xe,add:dt,toggleOption:Se,getOptionIndex:()=>b.value,setOptionIndex:Ve,moveOptionSelection:Qe,filter:xe,updateMenuPosition:wt,updateInputValue:Ie,isOptionSelected:Ye,getEmittingOptionValue:ct,isOptionDisabled:(...t)=>Ce.value.apply(null,t)===!0,getOptionValue:(...t)=>ae.value.apply(null,t),getOptionLabel:(...t)=>X.value.apply(null,t)}),Object.assign(l,{innerValue:r,fieldClass:m(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:D,targetRef:A,hasValue:M,showPopup:qe,floatingLabel:m(()=>e.hideSelected!==!0&&M.value===!0||typeof d.value=="number"||d.value.length!==0||kt(e.displayValue)),getControlChild:()=>{if(l.editable.value!==!1&&(p.value===!0||H.value!==!0||o["no-option"]!==void 0))return z===!0?rl():nl();l.hasPopupOpen===!0&&(l.hasPopupOpen=!1)},controlEvents:{onFocusin(t){l.onControlFocusin(t)},onFocusout(t){l.onControlFocusout(t,()=>{ze(),ke()})},onClick(t){if(Ze(t),z!==!0&&u.value===!0){ke(),A.value!==null&&A.value.focus();return}qe(t)}},getControl:t=>{const f=tl(),v=t===!0||p.value!==!0||z!==!0;if(e.useInput===!0)f.push(ll(t,v));else if(l.editable.value===!0){const R=v===!0?He.value:void 0;f.push(w("input",{ref:v===!0?A:void 0,key:"d_t",class:"q-select__focus-target",id:v===!0?l.targetUid.value:void 0,value:Q.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...R,onKeydown:ht,onKeyup:vt,onKeypress:gt})),v===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&f.push(w("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:mt}))}if(te.value!==void 0&&e.disable!==!0&&De.value.length!==0){const R=De.value.map(I=>w("option",{value:I,selected:!0}));f.push(w("select",{class:"hidden",name:te.value,multiple:e.multiple},R))}const _=e.useInput===!0||v!==!0?void 0:l.splitAttrs.attributes.value;return w("div",{class:"q-field__native row items-center",..._,...l.splitAttrs.listeners.value},f)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[w(je,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:Be.value})]:null}),$t(l)}}),{passive:Lt}=at,En=["both","horizontal","vertical"],Pn=G({name:"QScrollObserver",props:{axis:{type:String,validator:e=>En.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Nt},emits:["scroll"],setup(e,{emit:o}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let a=null,s,u;j(()=>e.scrollTarget,()=>{d(),b()});function p(){a!==null&&a();const g=Math.max(0,Wl(s)),S=Ul(s),h={top:g-n.position.top,left:S-n.position.left};if(e.axis==="vertical"&&h.top===0||e.axis==="horizontal"&&h.left===0)return;const z=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";n.position={top:g,left:S},n.directionChanged=n.direction!==z,n.delta=h,n.directionChanged===!0&&(n.direction=z,n.inflectionPoint=n.position),o("scroll",{...n})}function b(){s=jt(u,e.scrollTarget),s.addEventListener("scroll",y,Lt),y(!0)}function d(){s!==void 0&&(s.removeEventListener("scroll",y,Lt),s=void 0)}function y(g){if(g===!0||e.debounce===0||e.debounce==="0")p();else if(a===null){const[S,h]=e.debounce?[setTimeout(p,e.debounce),clearTimeout]:[requestAnimationFrame(p),cancelAnimationFrame];a=()=>{h(S),a=null}}}const{proxy:c}=re();return j(()=>c.$q.lang.rtl,p),Pe(()=>{u=c.$el.parentNode,b()}),we(()=>{a!==null&&a(),d()}),Object.assign(c,{trigger:y,getPosition:()=>n}),ot}}),Mn=G({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:o,emit:n}){const{proxy:{$q:a}}=re(),s=T(null),u=T(a.screen.height),p=T(e.container===!0?0:a.screen.width),b=T({position:0,direction:"down",inflectionPoint:0}),d=T(0),y=T(Et.value===!0?0:et()),c=m(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),g=m(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),S=m(()=>y.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${y.value}px`}:null),h=m(()=>y.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${y.value}px`,width:`calc(100% + ${y.value}px)`}:null);function z(C){if(e.container===!0||document.qScrollPrevented!==!0){const D={position:C.position.top,direction:C.direction,directionChanged:C.directionChanged,inflectionPoint:C.inflectionPoint.top,delta:C.delta.top};b.value=D,e.onScroll!==void 0&&n("scroll",D)}}function L(C){const{height:D,width:A}=C;let E=!1;u.value!==D&&(E=!0,u.value=D,e.onScrollHeight!==void 0&&n("scrollHeight",D),P()),p.value!==A&&(E=!0,p.value=A),E===!0&&e.onResize!==void 0&&n("resize",C)}function x({height:C}){d.value!==C&&(d.value=C,P())}function P(){if(e.container===!0){const C=u.value>d.value?et():0;y.value!==C&&(y.value=C)}}let V=null;const B={instances:{},view:m(()=>e.view),isContainer:m(()=>e.container),rootRef:s,height:u,containerHeight:d,scrollbarWidth:y,totalWidth:m(()=>p.value+y.value),rows:m(()=>{const C=e.view.toLowerCase().split(" ");return{top:C[0].split(""),middle:C[1].split(""),bottom:C[2].split("")}}),header:Ne({size:0,offset:0,space:!1}),right:Ne({size:300,offset:0,space:!1}),footer:Ne({size:0,offset:0,space:!1}),left:Ne({size:300,offset:0,space:!1}),scroll:b,animate(){V!==null?clearTimeout(V):document.body.classList.add("q-body--layout-animate"),V=setTimeout(()=>{V=null,document.body.classList.remove("q-body--layout-animate")},155)},update(C,D,A){B[C][D]=A}};if(Mt(rt,B),et()>0){let C=function(){E=null,U.classList.remove("hide-scrollbar")},D=function(){if(E===null){if(U.scrollHeight>a.screen.height)return;U.classList.add("hide-scrollbar")}else clearTimeout(E);E=setTimeout(C,300)},A=function(J){E!==null&&J==="remove"&&(clearTimeout(E),C()),window[`${J}EventListener`]("resize",D)},E=null;const U=document.body;j(()=>e.container!==!0?"add":"remove",A),e.container!==!0&&A("add"),Xl(()=>{A("remove")})}return()=>{const C=Ut(o.default,[w(Pn,{onScroll:z}),w(it,{onResize:L})]),D=w("div",{class:c.value,style:g.value,ref:e.container===!0?void 0:s,tabindex:-1},C);return e.container===!0?w("div",{class:"q-layout-container overflow-hidden",ref:s},[w(it,{onResize:x}),w("div",{class:"absolute-full",style:S.value},[w("div",{class:"scroll",style:h.value},[D])])]):D}}}),Hn={class:"text-h6"},$n={class:"text-caption"},Dn={class:"text-caption"},Qn={class:"text-caption"},Kn={class:"text-caption"},Yn=Yl({__name:"MainLayout",setup(e){const o=hn(),n=Sn(),a=bn(),{settingsState:s}=n,{locale:u}=yn({useScope:"global"}),p=m(()=>a.availableLanguages),b=T(!1),d=T(s.openAIKey),y=T(void 0);function c(){b.value=!0}function g(){n.setOpenAIKey(d.value),a.setCurrentLocale(u.value),location.reload()}return Pe(()=>{s.openAIKey||o.dialog({title:"Open AI Key Required",message:"Please enter your Open AI key in settings",persistent:!0,ok:"Go to Settings"}).onOk(()=>{c()})}),(S,h)=>{const z=Gl("router-view");return Jl(),Zl(Mn,{view:"hHh lpR fFf"},{default:Z(()=>[N(Vn,{elevated:"",class:"bg-primary text-white"},{default:Z(()=>[N(pn,null,{default:Z(()=>[N(wn,null,{default:Z(()=>[en(ye(S.$t("common.app_name")),1)]),_:1}),N(tn,{vertical:""}),N(tt,{flat:"",round:"",dense:"",icon:"settings",onClick:c})]),_:1})]),_:1}),N(xn,null,{default:Z(()=>[N(z)]),_:1}),N(Wt,{modelValue:b.value,"onUpdate:modelValue":h[2]||(h[2]=L=>b.value=L)},{default:Z(()=>[N(ln,{style:{"min-width":"350px","max-width":"90vw"},class:"q-mt-lg"},{default:Z(()=>[N(lt,null,{default:Z(()=>[Le("div",Hn,ye(S.$t("settings.settings")),1),Le("div",$n,ye(S.$t("settings.subtitle")),1),Le("div",Dn,ye(S.$t("settings.version"))+": "+ye(y.value),1)]),_:1}),N(lt,null,{default:Z(()=>[Le("div",Qn,ye(S.$t("settings.api_key_description")),1),N(nn,{modelValue:d.value,"onUpdate:modelValue":h[0]||(h[0]=L=>d.value=L),label:S.$t("inputs.open_ai_key.label"),hint:S.$t("inputs.open_ai_key.hint")},null,8,["modelValue","label","hint"])]),_:1}),N(lt,null,{default:Z(()=>[Le("div",Kn,ye(S.$t("settings.language")),1),N(Ln,{label:S.$t("settings.language"),modelValue:un(u),"onUpdate:modelValue":h[1]||(h[1]=L=>an(u)?u.value=L:null),options:p.value,"map-options":"","option-label":"label","option-value":"value","emit-value":""},null,8,["label","modelValue","options"])]),_:1}),N(on,{align:"right"},{default:Z(()=>[qt(N(tt,{flat:"",label:S.$t("buttons.cancel.label"),color:"primary"},null,8,["label"]),[[At]]),qt(N(tt,{flat:"",label:S.$t("buttons.save.label"),color:"primary",onClick:g},null,8,["label"]),[[At]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{Yn as default};
