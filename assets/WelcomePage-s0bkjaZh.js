import{c as F,z as O,B as U,a as I,h as C,Q as _,D as H,r as V,q as J,a0 as W,a1 as Z,o as X,b as Y,g as ee,aC as te,E as R,f as ae,Z as se,aD as oe,ak as ne,aE as le,aF as ie,aG as v,am as $,an as ue,ao as a,ap as e,av as x,aw as r,ar as m,at as B,ax as re,aH as j,aI as T,aJ as M,au as E,aB as ce,ad as de,aK as K,aq as k}from"./index-1mgfK8Iw.js";import{a as P,Q as p}from"./QItemSection-BnYwRItV.js";import{Q as L}from"./QList-BS3tdaXR.js";import{Q as me}from"./QPage-IpESdOSy.js";import{C as fe}from"./ClosePopup-B3_fIrck.js";import{u as ve}from"./vue-i18n.runtime-BhVcdAa5.js";const _e=F({name:"QAvatar",props:{...O,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(n,{slots:q}){const g=U(n),h=I(()=>"q-avatar"+(n.color?` bg-${n.color}`:"")+(n.textColor?` text-${n.textColor} q-chip--colored`:"")+(n.square===!0?" q-avatar--square":n.rounded===!0?" rounded-borders":"")),o=I(()=>n.fontSize?{fontSize:n.fontSize}:null);return()=>{const i=n.icon!==void 0?[C(_,{name:n.icon})]:void 0;return C("div",{class:h.value,style:g.value},[C("div",{class:"q-avatar__content row flex-center overflow-hidden",style:o.value},H(q.default,i))])}}}),pe=F({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(n,{slots:q,emit:g}){const h=ee(),o=V(null);let i=0;const c=[];function w(t){const s=typeof t=="boolean"?t:n.noErrorFocus!==!0,b=++i,D=(l,d)=>{g(`validation${l===!0?"Success":"Error"}`,d)},A=l=>{const d=l.validate();return typeof d.then=="function"?d.then(f=>({valid:f,comp:l}),f=>({valid:!1,comp:l,err:f})):Promise.resolve({valid:d,comp:l})};return(n.greedy===!0?Promise.all(c.map(A)).then(l=>l.filter(d=>d.valid!==!0)):c.reduce((l,d)=>l.then(()=>A(d).then(f=>{if(f.valid===!1)return Promise.reject(f)})),Promise.resolve()).catch(l=>[l])).then(l=>{if(l===void 0||l.length===0)return b===i&&D(!0),!0;if(b===i){const{comp:d,err:f}=l[0];if(f!==void 0&&console.error(f),D(!1,d),s===!0){const G=l.find(({comp:N})=>typeof N.focus=="function"&&te(N.$)===!1);G!==void 0&&G.comp.focus()}}return!1})}function Q(){i++,c.forEach(t=>{typeof t.resetValidation=="function"&&t.resetValidation()})}function z(t){t!==void 0&&R(t);const s=i+1;w().then(b=>{s===i&&b===!0&&(n.onSubmit!==void 0?g("submit",t):t!==void 0&&t.target!==void 0&&typeof t.target.submit=="function"&&t.target.submit())})}function S(t){t!==void 0&&R(t),g("reset"),ae(()=>{Q(),n.autofocus===!0&&n.noResetFocus!==!0&&y()})}function y(){se(()=>{if(o.value===null)return;const t=o.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||o.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||o.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(o.value.querySelectorAll("[tabindex]"),s=>s.tabIndex!==-1);t?.focus({preventScroll:!0})})}J(oe,{bindComponent(t){c.push(t)},unbindComponent(t){const s=c.indexOf(t);s!==-1&&c.splice(s,1)}});let u=!1;return W(()=>{u=!0}),Z(()=>{u===!0&&n.autofocus===!0&&y()}),X(()=>{n.autofocus===!0&&y()}),Object.assign(h.proxy,{validate:w,resetValidation:Q,submit:z,reset:S,focus:y,getValidationComponents:()=>c}),()=>C("form",{class:"q-form",ref:o,onSubmit:z,onReset:S},Y(q.default))}}),ge=F({name:"QSpace",setup(){const n=C("div",{class:"q-space"});return()=>n}}),he={class:"logo-container q-mb-md"},be={class:"text-h3 text-deep-knowledge-blue q-mb-md"},ye={class:"text-subtitle1 text-royal-wisdom"},xe={class:"text-h6 q-mb-sm text-deep-knowledge-blue"},qe={class:"row q-col-gutter-md justify-center"},Se={class:"text-h6 text-center"},Ce={class:"row justify-center q-mt-xl"},we={class:"row items-center"},Qe={class:"text-h6"},ze={class:"text-h6"},Fe=ne({__name:"WelcomePage",setup(n){const q=le(),g=ie(),h=V(!1),o=ve().t,i=V(""),c=V("medium"),w=[{value:"easy",label:o("difficulties.easy.label"),questions:o("difficulties.questions",{count:v.easy.questionsCount}),time:o("difficulties.time_per_question",{time:v.easy.timePerQuestion}),choices:o("difficulties.choices",{count:v.easy.choicesCount})},{value:"medium",label:o("difficulties.medium.label"),questions:o("difficulties.questions",{count:v.medium.questionsCount}),time:o("difficulties.time_per_question",{time:v.medium.timePerQuestion}),choices:o("difficulties.choices",{count:v.medium.choicesCount})},{value:"hard",label:o("difficulties.hard.label"),questions:o("difficulties.questions",{count:v.hard.questionsCount}),time:o("difficulties.time_per_question",{time:v.hard.timePerQuestion}),choices:o("difficulties.choices",{count:v.hard.choicesCount})}],Q=[{icon:"quiz",text:o("game_rules.rule_1")},{icon:"schedule",text:o("game_rules.rule_2")},{icon:"trending_up",text:o("game_rules.rule_3")},{icon:"psychology",text:o("game_rules.rule_4")},{icon:"savings",text:o("game_rules.rule_5")}],z=u=>{switch(u){case"easy":return"sentiment_satisfied";case"medium":return"sentiment_neutral";case"hard":return"sentiment_very_dissatisfied";default:return"help"}},S=I(()=>i.value.trim()!==""&&c.value),y=async()=>{S.value&&(g.startGame(i.value.trim(),c.value),await q.push({name:"game"}))};return(u,t)=>($(),ue(me,{class:"flex flex-center bg-subtle-gray"},{default:a(()=>[e(E,{class:"welcome-card"},{default:a(()=>[e(x,{class:"text-center q-pt-xl"},{default:a(()=>[r("div",he,[e(_e,{size:"80px",color:"deep-knowledge-blue","text-color":"victory-gold"},{default:a(()=>[e(_,{name:"emoji_events",size:"50px"})]),_:1})]),r("div",be,m(u.$t("pages.welcome.title")),1),r("div",ye,m(u.$t("pages.welcome.description")),1)]),_:1}),e(x,{class:"text-center q-pt-none"},{default:a(()=>[e(B,{glossy:"",color:"info",label:u.$t("buttons.how_to_play.label"),onClick:t[0]||(t[0]=s=>h.value=!0)},null,8,["label"])]),_:1}),e(x,{class:"q-px-lg"},{default:a(()=>[e(pe,{onSubmit:y,class:"q-gutter-lg"},{default:a(()=>[e(re,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=s=>i.value=s),label:u.$t("inputs.user_name.label"),rules:[s=>!!s||"Name is required"],outlined:"",class:"name-input",hint:u.$t("inputs.user_name.hint")},{prepend:a(()=>[e(_,{name:"person",color:"deep-knowledge-blue"})]),_:1},8,["modelValue","label","rules","hint"]),r("div",null,[r("div",xe,m(u.$t("pages.welcome.select_difficulty"))+":",1),r("div",qe,[($(),j(M,null,T(w,s=>r("div",{key:s.value,class:"col-12 col-sm-4"},[e(E,{class:K(["difficulty-card cursor-pointer",c.value===s.value?"selected":""]),flat:"",bordered:"",onClick:b=>c.value=s.value},{default:a(()=>[e(x,null,{default:a(()=>[r("div",{class:K(["difficulty-icon q-mb-sm",s.value])},[e(_,{name:z(s.value),size:"md"},null,8,["name"])],2),r("div",Se,m(s.label),1),e(L,{dense:"",class:"q-mt-sm"},{default:a(()=>[e(P,null,{default:a(()=>[e(p,{avatar:""},{default:a(()=>[e(_,{name:"help",size:"xs"})]),_:1}),e(p,null,{default:a(()=>[k(m(s.questions),1)]),_:2},1024)]),_:2},1024),e(P,null,{default:a(()=>[e(p,{avatar:""},{default:a(()=>[e(_,{name:"timer",size:"xs"})]),_:1}),e(p,null,{default:a(()=>[k(m(s.time),1)]),_:2},1024)]),_:2},1024),e(P,null,{default:a(()=>[e(p,{avatar:""},{default:a(()=>[e(_,{name:"checklist",size:"xs"})]),_:1}),e(p,null,{default:a(()=>[k(m(s.choices),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick"])])),64))])]),r("div",Ce,[e(B,{glossy:"",type:"submit",color:"primary",size:"lg",class:"start-button",disable:!S.value,padding:"16px 48px"},{default:a(()=>[r("div",we,[e(_,{name:"play_arrow",size:"md",class:"q-mr-sm"}),r("div",Qe,m(u.$t("buttons.start.label")),1)])]),_:1},8,["disable"])])]),_:1})]),_:1})]),_:1}),e(de,{modelValue:h.value,"onUpdate:modelValue":t[2]||(t[2]=s=>h.value=s)},{default:a(()=>[e(E,{style:{"min-width":"350px"}},{default:a(()=>[e(x,{class:"row items-center q-pb-none"},{default:a(()=>[r("div",ze,m(u.$t("pages.welcome.how_to_play")),1),e(ge),ce(e(B,{icon:"close",flat:"",round:"",dense:""},null,512),[[fe]])]),_:1}),e(x,{class:"q-pt-md"},{default:a(()=>[e(L,null,{default:a(()=>[($(),j(M,null,T(Q,(s,b)=>e(P,{key:b},{default:a(()=>[e(p,{avatar:""},{default:a(()=>[e(_,{name:s.icon,color:"deep-knowledge-blue"},null,8,["name"])]),_:2},1024),e(p,null,{default:a(()=>[k(m(s.text),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{Fe as default};
