import{k as A,X as L,Y as O,c as I,h as S,Z as v,_ as U,r as V,y as K,$ as Y,a0 as J,o as X,l as Z,g as ee,a1 as te,a2 as G,q as ae,a3 as se,a4 as ne,d as oe,a5 as le,a6 as ue,J as B,K as ie,L as a,a7 as f,f as t,P as b,R as i,N as E,S as re,a8 as M,a9 as j,F as T,O as F,V as de,W as ce,aa as W,ab as h,M as z}from"./index-OacrjVwj.js";import{Q as H,a as P,b as y}from"./QList-BzTf7j6q.js";import{Q as me}from"./QPage-BDYTTvaV.js";import{C as fe}from"./ClosePopup-1NMUDq4H.js";const ve=A({name:"QAvatar",props:{...L,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(s,{slots:_}){const g=O(s),x=I(()=>"q-avatar"+(s.color?` bg-${s.color}`:"")+(s.textColor?` text-${s.textColor} q-chip--colored`:"")+(s.square===!0?" q-avatar--square":s.rounded===!0?" rounded-borders":"")),l=I(()=>s.fontSize?{fontSize:s.fontSize}:null);return()=>{const u=s.icon!==void 0?[S(v,{name:s.icon})]:void 0;return S("div",{class:x.value,style:g.value},[S("div",{class:"q-avatar__content row flex-center overflow-hidden",style:l.value},U(_.default,u))])}}}),ye=A({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(s,{slots:_,emit:g}){const x=ee(),l=V(null);let u=0;const c=[];function w(e){const r=typeof e=="boolean"?e:s.noErrorFocus!==!0,k=++u,D=(o,d)=>{g(`validation${o===!0?"Success":"Error"}`,d)},R=o=>{const d=o.validate();return typeof d.then=="function"?d.then(m=>({valid:m,comp:o}),m=>({valid:!1,comp:o,err:m})):Promise.resolve({valid:d,comp:o})};return(s.greedy===!0?Promise.all(c.map(R)).then(o=>o.filter(d=>d.valid!==!0)):c.reduce((o,d)=>o.then(()=>R(d).then(m=>{if(m.valid===!1)return Promise.reject(m)})),Promise.resolve()).catch(o=>[o])).then(o=>{if(o===void 0||o.length===0)return k===u&&D(!0),!0;if(k===u){const{comp:d,err:m}=o[0];if(m!==void 0&&console.error(m),D(!1,d),r===!0){const N=o.find(({comp:$})=>typeof $.focus=="function"&&te($.$)===!1);N!==void 0&&N.comp.focus()}}return!1})}function C(){u++,c.forEach(e=>{typeof e.resetValidation=="function"&&e.resetValidation()})}function q(e){e!==void 0&&G(e);const r=u+1;w().then(k=>{r===u&&k===!0&&(s.onSubmit!==void 0?g("submit",e):e!==void 0&&e.target!==void 0&&typeof e.target.submit=="function"&&e.target.submit())})}function Q(e){e!==void 0&&G(e),g("reset"),ae(()=>{C(),s.autofocus===!0&&s.noResetFocus!==!0&&p()})}function p(){se(()=>{if(l.value===null)return;const e=l.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||l.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||l.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(l.value.querySelectorAll("[tabindex]"),r=>r.tabIndex!==-1);e?.focus({preventScroll:!0})})}K(ne,{bindComponent(e){c.push(e)},unbindComponent(e){const r=c.indexOf(e);r!==-1&&c.splice(r,1)}});let n=!1;return Y(()=>{n=!0}),J(()=>{n===!0&&s.autofocus===!0&&p()}),X(()=>{s.autofocus===!0&&p()}),Object.assign(x.proxy,{validate:w,resetValidation:C,submit:q,reset:Q,focus:p,getValidationComponents:()=>c}),()=>S("form",{class:"q-form",ref:l,onSubmit:q,onReset:Q},Z(_.default))}}),ge=A({name:"QSpace",setup(){const s=S("div",{class:"q-space"});return()=>s}}),xe={class:"logo-container q-mb-md"},pe={class:"row q-col-gutter-md justify-center"},be={class:"text-h6 text-center"},_e={class:"row justify-center q-mt-xl"},qe={class:"row items-center"},ke=oe({__name:"WelcomePage",setup(s){const _=le(),g=ue(),x=V(!1),l=V(""),u=V("medium"),c=[{value:"easy",label:"Easy",questions:f.easy.questionsCount,time:f.easy.timePerQuestion,choices:f.easy.choicesCount},{value:"medium",label:"Medium",questions:f.medium.questionsCount,time:f.medium.timePerQuestion,choices:f.medium.choicesCount},{value:"hard",label:"Hard",questions:f.hard.questionsCount,time:f.hard.timePerQuestion,choices:f.hard.choicesCount}],w=[{icon:"quiz",text:"Answer questions generated from Wikipedia articles"},{icon:"schedule",text:"Race against time for each question"},{icon:"trending_up",text:"Progress through increasing prize levels"},{icon:"psychology",text:"Use lifelines wisely when needed"},{icon:"savings",text:"Reach milestones to secure your winnings"}],C=p=>{switch(p){case"easy":return"sentiment_satisfied";case"medium":return"sentiment_neutral";case"hard":return"sentiment_very_dissatisfied";default:return"help"}},q=I(()=>l.value.trim()!==""&&u.value),Q=async()=>{q.value&&(g.startGame(l.value.trim(),u.value),await _.push({name:"game"}))};return(p,n)=>(B(),ie(me,{class:"flex flex-center bg-subtle-gray"},{default:a(()=>[t(F,{class:"welcome-card"},{default:a(()=>[t(b,{class:"text-center q-pt-xl"},{default:a(()=>[i("div",xe,[t(ve,{size:"80px",color:"deep-knowledge-blue","text-color":"victory-gold"},{default:a(()=>[t(v,{name:"emoji_events",size:"50px"})]),_:1})]),n[3]||(n[3]=i("div",{class:"text-h3 text-deep-knowledge-blue q-mb-md"},"Wiki Millionaire",-1)),n[4]||(n[4]=i("div",{class:"text-subtitle1 text-royal-wisdom"},"Test your knowledge and win virtual millions!",-1))]),_:1}),t(b,{class:"text-center q-pt-none"},{default:a(()=>[t(E,{glossy:"",color:"info",label:"How to Play",onClick:n[0]||(n[0]=e=>x.value=!0)})]),_:1}),t(b,{class:"q-px-lg"},{default:a(()=>[t(ye,{onSubmit:Q,class:"q-gutter-lg"},{default:a(()=>[t(re,{modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=e=>l.value=e),label:"Your Name",rules:[e=>!!e||"Name is required"],outlined:"",class:"name-input"},{prepend:a(()=>[t(v,{name:"person",color:"deep-knowledge-blue"})]),_:1},8,["modelValue","rules"]),i("div",null,[n[5]||(n[5]=i("div",{class:"text-h6 q-mb-sm text-deep-knowledge-blue"},"Select Difficulty:",-1)),i("div",pe,[(B(),M(T,null,j(c,e=>i("div",{key:e.value,class:"col-12 col-sm-4"},[t(F,{class:W(["difficulty-card cursor-pointer",u.value===e.value?"selected":""]),flat:"",bordered:"",onClick:r=>u.value=e.value},{default:a(()=>[t(b,null,{default:a(()=>[i("div",{class:W(["difficulty-icon q-mb-sm",e.value])},[t(v,{name:C(e.value),size:"md"},null,8,["name"])],2),i("div",be,h(e.label),1),t(H,{dense:"",class:"q-mt-sm"},{default:a(()=>[t(P,null,{default:a(()=>[t(y,{avatar:""},{default:a(()=>[t(v,{name:"help",size:"xs"})]),_:1}),t(y,null,{default:a(()=>[z(h(e.questions)+" questions",1)]),_:2},1024)]),_:2},1024),t(P,null,{default:a(()=>[t(y,{avatar:""},{default:a(()=>[t(v,{name:"timer",size:"xs"})]),_:1}),t(y,null,{default:a(()=>[z(h(e.time)+"s per question",1)]),_:2},1024)]),_:2},1024),t(P,null,{default:a(()=>[t(y,{avatar:""},{default:a(()=>[t(v,{name:"checklist",size:"xs"})]),_:1}),t(y,null,{default:a(()=>[z(h(e.choices)+" choices",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick"])])),64))])]),i("div",_e,[t(E,{glossy:"",type:"submit",color:"primary",size:"lg",class:"start-button",disable:!q.value,padding:"16px 48px"},{default:a(()=>[i("div",qe,[t(v,{name:"play_arrow",size:"md",class:"q-mr-sm"}),n[6]||(n[6]=i("div",{class:"text-h6"},"Start Game",-1))])]),_:1},8,["disable"])])]),_:1})]),_:1})]),_:1}),t(ce,{modelValue:x.value,"onUpdate:modelValue":n[2]||(n[2]=e=>x.value=e)},{default:a(()=>[t(F,{style:{"min-width":"350px"}},{default:a(()=>[t(b,{class:"row items-center q-pb-none"},{default:a(()=>[n[7]||(n[7]=i("div",{class:"text-h6"},"How to Play",-1)),t(ge),de(t(E,{icon:"close",flat:"",round:"",dense:""},null,512),[[fe]])]),_:1}),t(b,{class:"q-pt-md"},{default:a(()=>[t(H,null,{default:a(()=>[(B(),M(T,null,j(w,(e,r)=>t(P,{key:r},{default:a(()=>[t(y,{avatar:""},{default:a(()=>[t(v,{name:e.icon,color:"deep-knowledge-blue"},null,8,["name"])]),_:2},1024),t(y,null,{default:a(()=>[z(h(e.text),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{ke as default};
